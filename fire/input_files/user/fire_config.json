{
    "README": {
        "file_description": "This file provides the basic configuration settings for the FIRE IR analysis code. When values are given in a list, the order  often given the order of preference for those options e.g. 'movie_plugins'",
        "TODO": "Consolidate variable_meta_dat from data_structures.py"
    },
    "user_details": {
        "name": null,
        "email": null
    },
    "default_params": {
        "machine": "mast",
        "pulse": 23586,
        "camera": "rir",
        "pass": 0
    },
    "machines": {
        "mast_u": {
            "cameras": {
                "rir": {
                    "movie_plugins": [
                        "ipx",
                        "npz",
                        "imstack",
                        "uda"
                    ],
                    "device_details": {
                        "id": "FLIR SC7500 MWIR Camera 1",
                        "camera_serial_number": 6580045,
                        "detector_resolution": [320, 256],
                        "image_range": [0, 16383],
                        "bit_depth": 14,
                        "pixel_pitch": 30e-6,
                        "aperture": "f/3",
                        "unfiltered_wavelength_range": [1.5e-6, 5.1e-6],
                        "wavelength_filters": {
                            "flir_mwir": [4.1e-6, 5.0e-6]},
                        "available_lenses": [25e-3, 50e-3],
                        "neutral_density_filters": {},
                        "window_locations": ["HL04-A"],
                        "manufacturer": "FLIR",
                        "description": "Medium-wavelength infra-red camera",
                        "aliases": ["flir_1"],
                        "year_of_purchase": 2017
                    }
                },
                "rit": {
                    "movie_plugins": [
                        "ipx",
                        "raw_movie",
                        "npz",
                        "imstack",
                        "uda"
                    ],
                    "device_details": {
                        "id": "IRcam Velox 81k Camera 1",
                        "camera_serial_number": "0101-A18-CH",
                        "detector_resolution": [320, 256],
                        "image_range": [0, 16383],
                        "bit_depth": 14,
                        "pixel_pitch": 30e-6,
                        "aperture": "f/2",
                        "unfiltered_wavelength_range": [7.7e-6, 9.4e-6],
                        "wavelength_filters": {},
                        "available_lenses": [25e-3, 50e-3],
                        "neutral_density_filters": ["??"],
                        "window_locations": ["HL04-B"],
                        "manufacturer": "IRCAM",
                        "description": "Long-wavelength infra-red camera",
                        "aliases": ["ircam_1"],
                        "year_of_purchase": 2017
                    }
                }
            },
            "cad_models": [
                {
                    "model_name": "MAST Upgrade",
                    "model_variant": "Jan 2017"
                }
            ],
            "pulse_range": [
                        50000,
                        null
                    ]
        },
        "mast": {
            "cameras": {
                "rir": {
                    "movie_plugins": [
                        "ipx",
                        "uda",
                        "imstack"
                    ],
                    "device_details": {
                        "id": "Santa Barbara Focal Plane SBF 125 Camera",
                        "camera_serial_number": "???",
                        "detector_resolution": [320, 256],
                        "image_range": [0, 16383],
                        "bit_depth": 14,
                        "pixel_pitch": 30e-6,
                        "aperture": "??",
                        "unfiltered_wavelength_range": [2.5e-6, 5.0e-6],
                        "wavelength_filters": {
                            "sbf_mwir": [4.5e-6, 5.0e-6]},
                        "available_lenses": [7e-3, 13e-3, 25e-3, 50e-3],
                        "neutral_density_filters": [],
                        "window_locations": ["HL01"],
                        "description": "Medium-wavelength infra-red camera",
                        "aliases": ["sbf_1"],
                        "year_of_purchase": 2003
                    }
                },
                "rit": {
                    "movie_plugins": [
                        "ipx",
                        "uda",
                        "imstack"
                    ],
                    "device_details": {
                        "id": "Thermosensorik CMT256 LHS",
                        "camera_serial_number": "???",
                        "detector_resolution": [256, 256],
                        "image_range": [0, 16383],
                        "bit_depth": 14,
                        "pixel_pitch": 40e-6,
                        "aperture": "??",
                        "unfiltered_wavelength_range": [7.6e-6, 9.0e-6],
                        "wavelength_filters": {},
                        "available_lenses": [25e-3, 50e-3],
                        "neutral_density_filters": [],
                        "window_locations": ["HL01"],
                        "description": "Long-wavelength infra-red camera",
                        "aliases": ["tmsk_1"],
                        "year_of_purchase": 2007
                    }
                }
            },
            "cad_models": [
                {
                    "model_name": "MAST",
                    "model_variant": "Detailed"
                }
            ],
            "pulse_range": [
                        0,
                        49999
                    ]
        },
        "jet": {
            "cameras": {
                "kldt": {
                    "movie_plugins": [
                        "npz",
                        "imstack"
                    ],
                    "device_details": {
                        "id": "?",
                        "camera_serial_number": -1,
                        "detector_resolution": [
                            400,
                            256
                        ],
                        "image_range": [
                            0,
                            16383
                        ],
                        "bit_depth": 14,
                        "pixel_pitch": 30e-6,
                        "aperture": "f/3",
                        "unfiltered_wavelength_range": [],
                        "wavelength_filters": {},
                        "available_lenses": [],
                        "neutral_density_filters": [],
                        "window_locations": [],
                        "manufacturer": "?",
                        "description": "?",
                        "aliases": [],
                        "year_of_purchase": -1,
                        "warnings": ["incomplete device details, guessed most values eg pixel_pitch"]
                    }
                }
            },
            "cad_models": [
                {
                    "model_name": "JET",
                    "model_variant": "ITER-Like Wall"
                }
            ],
            "pulse_range": [
                0,
                null
            ]
        }
    },
    "plugins": {
        "movie": {
            "module_attributes": {
                "required": {
                    "plugin_name": "movie_plugin_name",
                    "meta": "read_movie_meta",
                    "data": "read_movie_data",
                    "info": "plugin_info"
                },
                "optional": {
                }
            }
        },
        "machine": {
            "module_attributes": {
                "required": {
                    "plugin_name": "machine_plugin_name"
                },
                "optional": {
                    "machine": "machine_name",
                    "sector": "get_machine_sector",
                    "louvre_label": "get_tile_louvre_label",
                    "louvre_index": "get_tile_louvre_index",
                    "location_labels": "location_labels",
                    "format_coord": "format_coord",
                    "s_global": "get_s_coord_global",
                    "s_path": "get_s_coord_path",
                    "get_wall_rz_coords": "get_wall_rz_coords",
                    "plot_vessel_outline": "plot_vessel_outline",
                    "plot_vessel_top_down": "plot_vessel_top_down",
                    "info": "plugin_info"
                }
            }
        },
        "output_format": {
            "module_attributes": {
                "required": {
                    "plugin_name": "output_format_plugin_name",
                    "write_output": "write_output_file"
                },
                "optional": {
                    "fn_output": "output_filename_format",
                    "path_output": "output_path_format"
                }
            }
        }
    },
    "paths_input": {
        "plugins": {
            "movie": [
                "{fire_path}/plugins/movie_plugins/"
            ],
            "machine": [
                "{fire_path}/plugins/machine_plugins/"
            ],
            "output_format": [
                "{fire_path}/plugins/output_format_plugins/"
            ]
        },
        "input_file_types": [
            "pulse_lookups",
            "black_body_calibrations",
            "surface_properties",
            "calcam_calibrations"
        ],
        "input_files": [
            "{fire_path}/input_files/",
            "{fire_path}/input_files/{machine}/",
            "{fire_path}/input_files/{machine}/{camera}/",
            "{fire_path}/input_files/{machine}/calcam_calibs/",
            "~/input_files/{machine}/",
            "~/input_files/",
            "~/calcam/calibrations/",
            "~/calcam2/calibrations/",
            "~/data/calcam_calibrations/"
        ],
        "movie_files": [
            "/net/fuslsc.mast.l/data/MAST_IMAGES/0{pulse_prefix}/{pulse}/",
            "/net/fuslsc/data/MAST_Data/{pulse}/LATEST/",
            "~/data/movies/{machine}/{pulse}/{camera}/",
            "/net/fuslsa/data/MAST_IMAGES/0{pulse_prefix}/{pulse}/",
            "{fire_path}/../tests/test_data/{machine}/"
        ]
    },
    "paths_output": {
        "checkpoint_data": "~/.fire/checkpoints/",
        "csv_data": "~/.fire/csvs/"
    },
    "filenames_input": {
        "movie_files": [
            "{camera}0{pulse}.ipx",
            "{camera}_{pulse}.npz",
            "{camera}_{pulse}.raw"
        ],
        "camera_settings": [
            "camera_settings-{machine}-{camera}.csv"
        ],
        "calcam_calibs": [
            "calcam_calibs-{machine}-{camera}-defaults.csv"
        ],
        "analysis_paths": [
            "analysis_paths-{machine}-{camera}-defaults.csv"
        ],
        "analysis_path_dfns": [
            "analysis_path_dfns-{machine}-{camera}-defaults.json"
        ],
        "black_body_curve": [
            "bb_photons-{lens_in_mm}mm-{exposure_in_us}us.tsv"
        ],
        "temperature_coefs": [
            "temperature_coefs-{machine}-{camera}.csv",
            "temperature_coefs-{machine}-{camera}-{lens_in_mm:0.0f}mm-{exposure_in_us:0.0f}us.csv"
        ],
        "structure_coords": [
            "structure_coords-{machine}-default.csv"
        ],
        "material_props": [
            "material_props-{machine}-defaults.json"
        ]
    },
    "outputs": {
        "active_formats": [
            "uda_putdata"
        ],
        "file_header": {
            "title": "Processed infa-red camera data from IR camera {camera} on {machine}",
            "comment": "Temperature, heat flux and other physics quantities derived from IR camera data"
        },
        "variables": {
            "analysis_path": [
                "heat_flux",
                "temperature"
            ],
            "time": [
                "heat_flux_total",
                "heat_flux_peak",
                "heat_flux_s_peak",
                "heat_flux_r_peak"
            ],
            "image": [
                "temperature"
            ]
        }
    },
    "variable_meta_data": {
        "n": {
            "long_name": "$n_{frame}$",
            "units": "count",
            "description": "Camera frame number (integer)"
        },
        "t": {
            "long_name": "$t$",
            "units": "s",
            "description": "Camera frame time"
        },
        "x_pix": {
            "long_name": "$n_{frame}$",
            "units": "count",
            "description": "Camera frame number (integer)"
        },
        "y_pix": {
            "long_name": "$y_{pix}$",
            "units": "count",
            "description": "Camera y pixel coordinate"
        },
        "frame_data": {
            "long_name": "DL",
            "units": "count",
            "description": "Digit level (DL) intensity counts recorded by camera sensor, dependent on photon flux"
        },
        "temperature": {
            "long_name": "$T$",
            "units": "Celsius",
            "units_latex": "$^\\circ$C",
            "description": "Tile surface temperature measured by IR camera"
        },
        "heat_flux": {
            "long_name": "$q_\\perp$",
            "units": "W/m^2",
            "description": "Heat flux perpendicular to the tile surface inferred from surface temperature variation"
        },
        "annulus_area": {
            "long_name": "$A_{annulus}$",
            "units": "m^2",
            "description": "Surface area of tile annulus between two radial points (i.e. torroidal area over which radial measurement can be integrated"
        },
        "heat_flux_total": {
            "long_name": "$q_{tot}$",
            "units": "W",
            "description": "Total heat flux to the divetor, integrated over the radial extent of the IR analysis path, assuming toroidal symetry"
        },
        "heat_flux_peak": {
            "long_name": "$q_{peak}$",
            "units": "W/m^2",
            "description": "Peak heat flux to the divertor along the IR analysis path"
        },
        "heat_flux_s_peak": {
            "long_name": "$s_{q,peak}$",
            "units": "m",
            "description": "Divertor surface 's' coordinate of peak in heat flux along the IR analysis path"
        },
        "heat_flux_r_peak": {
            "long_name": "$r_{q,peak}$",
            "units": "m",
            "description": "Radial coordinate of peak in heat flux along the IR analysis path"
        }
    },
    "checkpoints": {
        "filenames": {
            "raycast": "raycast_{calcam_calib_stem}-{image_shape[0]}_{image_shape[1]}-{image_coords}.nf"
        }
    },
    "function_kwargs": {
        "imstack.read_movie_data": {
            "grayscale": true
        }
    },
    "fire": {
        "version": "2.0.0",
        "updated": null
    }
}